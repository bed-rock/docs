<link rel="import" type="html" href="../../polymer/polymer.html">

<dom-module id="br-form">

<template>
  <form action="{{action}}" autocomplete="{{autocomplete}}" method="{{method}}" on-keyup="_checkValidity">

    <content></content>

  </form>

</template>

<script>
  Polymer({
    is: 'br-form',

    properties: {
      action: String,
      autocomplete: String,
      method: String
    },
    _checkValidity: function () {
      allBrInputElements = Polymer.dom(this).querySelectorAll('br-input');
      allTrue = false;
      isSomeoneFalse = false;
      for (var i = 0; i < allBrInputElements.length; i++) {
        if (allBrInputElements[i].isValid == true) {
          allTrue = true
        } else{
          isSomeoneFalse = true;
        }
      };
      if (isSomeoneFalse == false && allTrue == true) {
        var buttonSubmit = document.getElementById('button-submit');
        buttonSubmit.removeAttribute('disabled');
      };
    }
  });
</script>

</dom-module>